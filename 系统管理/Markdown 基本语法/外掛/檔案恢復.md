檔案恢復外掛可以讓你恢復庫中數據，以避免各種意外（比如誤操作、斷電、錯誤使用外掛或指令碼等）導致的數據丟失事故。

檔案恢復外掛預設是開啟的，畢竟等到數據丟失了再開啟就無濟於事了。

## 工作機制

### 檔案快照

只要檔案恢復外掛被開啟，你庫中的所有檔案都會以你設定好的頻率產生快照。當超過了設定期限后，快照將被自動刪除。

整個過程都是自動的。預設情況下，快照每 5 分鐘產生一次，儲存期限為 7 天。

### 恢復檔案

當數據丟失后，你可以通過以下方式找到已儲存的檔案快照，然後通過快照恢復檔案：

1. 打開`設定`
2. 打開`外掛選項`下的`檔案恢復`標籤頁
3. 點選`快照`后的`瀏覽`按鈕
4. 在左側的搜索欄中輸入你想恢復的檔名。如果搜索欄中沒有顯示相應檔名，說明該檔案沒有已儲存的快照。
5. 在搜索欄中選擇需要恢復的檔案，隨後左側會出現一系列快照列表。找到你需要的快照版本。
6. 點選之後，右側將出現該版本的具體內容。你只需要點選「複製到剪貼簿」然後再將其貼上到相應檔案即可。當然，你也可以手動複製你所需的部分內容。

## 設定項

### 快照產生間隔

即快照的產生週期，預設為 5 分鐘產生一次。

### 快照儲存時長

即快照的儲存週期。預設為儲存 7 天。

### 刪除快照

即刪除所有快照。需要注意的是，快照刪除后是不可恢復的。

## 數據儲存相關

檔案恢復外掛所使用的數據儲存在[[Obsidian 如何儲存數據#系統目錄|相應的系統目錄]]中。不存放在庫目錄是爲了防止庫資料夾出現故障。

需要注意的是，檔案恢復外掛是通過庫的絕對路徑來識別庫的。也就是說，即使一個庫的內容沒變，但更改了位置，檔案恢復外掛也會將其視為一個新庫，會重新開始產生快照。此時，如果想要使用過去產生的快照，你需要將該庫還原到原路徑。